<nav class="fixed w-[300px] top-0 bottom-0 left-0 bg-white drop-shadow-md">
  <div class="p-4">
    <%= link_to root_path do %>
      <%= image_tag("logo.png", width: 110) %>
    <% end %>
  </div>
  <div class="w-full h-px bg-gray-200"></div>
  <div class="px-4 mt-3">
    <div class="dropdown dropdown-bottom w-full">
      <div tabindex="0" role="button" class="m-1">
        <div class="flex items-center p-2 bg-gray-50 border rounded-lg hover:opacity-70">
          <%= @workspace.avatar.html_safe %>
          <div class="ml-3">
            <p class="font-medium text-base">
              <%= @workspace.title %>
            </p>
          </div>
        </div>
      </div>
      <ul tabindex="0" class="dropdown-content menu dropdown-list min-w-52 w-full border border-base-300">
        <li>
          <%= button_to "/session", method: :delete, form_class: 'block font-normal rounded-none' do %>
            <p>Sign out</p>
            <i class="iconoir-log-out"></i>
          <% end %>
        </li>
      </ul>
    </div>

    <div class="mt-4">
      <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Workspace Management
      </div>
      <div class="font-medium text-base flex items-center flex-col gap-y-1">
        <%= link_to pages_path, class: "w-full" do %>
          <div class="flex items-center space-x-2 p-2 cursor-pointer text-neutral rounded-lg hover:bg-gray-50 active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if controller_name == 'pages' %>">
            <i class="iconoir-post text-2xl"></i>
            <p>
              Pages
            </p>
          </div>
        <% end %>
        <%= link_to authors_path, class: "w-full" do %>
          <div class="flex items-center space-x-2 p-2 cursor-pointer rounded-lg text-neutral hover:bg-gray-50 active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if controller_name == 'authors' %>">
            <i class="iconoir-user-square text-2xl"></i>
            <p>
              Authors
            </p>
          </div>
        <% end %>
      </div>
    </div>

    <div class="mt-4">
      <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Workspace Settings
      </div>
      <div class="font-medium text-base flex items-center flex-col gap-y-1">
        <% if WorkspaceAbility.new(current_user).can? :manage, @workspace %>
          <%= link_to settings_path, class: "w-full" do %>
            <div class="flex items-center space-x-2 p-2 cursor-pointer rounded-lg hover:bg-gray-50 text-neutral active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if request.path.include?('/settings') %>">
              <i class="iconoir-settings text-2xl"></i>
              <p>Settings</p>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>

  </div>
</nav>
