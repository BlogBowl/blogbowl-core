<!--px-8 py-5-->
<nav class="fixed w-[300px] top-0 bottom-0 left-0 bg-white drop-shadow-md">
  <div class="p-4">
    <%= link_to root_path do %>
      <%= image_tag("logo.png", width: 110) %>
    <% end %>
  </div>
  <div class="bg-gray-50 px-4 py-3 border-y border-gray-200">
    <%= link_to newsletters_path, class: "flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-2 text-sm" do %>
      <i class="iconoir-nav-arrow-left text-lg"></i>
      <span>Back to Workspace</span>
    <% end %>
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-2 text-gray-900">
        <i class="iconoir-page-star text-lg"></i>
        <span class="font-medium"><%= @newsletter.name %></span>
      </div>
    </div>
  </div>
  <div class="px-4 mt-3">
    <div class="mt-4">
      <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Newsletter Management
      </div>
      <div class="font-medium text-base flex items-center flex-col gap-y-1">
        <%= link_to newsletters_newsletter_emails_path, class: "w-full" do %>
          <div class="w-full flex items-center space-x-2 p-2 cursor-pointer text-neutral rounded-lg hover:bg-gray-50 active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if controller_name == 'newsletter_emails' %>">
            <i class="iconoir-post text-2xl"></i>
            <p>
              Newsletter emails
            </p>
          </div>
        <% end %>
        <%= link_to newsletters_subscribers_path, class: "w-full" do %>
          <div class="flex items-center space-x-2 p-2 cursor-pointer rounded-lg text-neutral hover:bg-gray-50 active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if controller_name == 'subscribers' %>">
            <i class="iconoir-group text-2xl"></i>
            <p>
              Subscribers
            </p>
          </div>
        <% end %>
      </div>
    </div>

    <div class="mt-4">
      <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Newsletter Settings
      </div>
      <div class="font-medium text-base flex items-center flex-col gap-y-1">
        <% if WorkspaceAbility.new(current_user).can? :manage, @workspace %>
          <%= link_to newsletters_settings_path, class: "w-full" do %>
            <div class="flex items-center space-x-2 p-2 cursor-pointer rounded-lg hover:bg-gray-50 text-neutral active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if request.path.include?('/settings') %>">
              <i class="iconoir-settings text-2xl"></i>
              <p>Settings</p>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

  <div class="p-4 border-t border-gray-200 absolute bottom-2 w-full">
    <%= link_to new_newsletters_newsletter_email_path(@newsletter), class: "w-full flex items-center justify-center space-x-2 p-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors" do %>
      <i class="iconoir-plus text-xl"></i>
      <span>New E-mail</span>
    <% end %>
  </div>

</nav>
