<% content_for :head do %>
  <%= render "public/shared/head/author", author: @author, breadcrumbs: author_breadcrumbs %>
<% end %>

<div class="min-h-screen">
  <section class="pt-20 px-4 sm:px-6 lg:px-8">
    <div class="max-w-5xl mx-auto pb-10 bg-base-100 rounded-3xl py-5 px-5 md:px-10 flex md:flex-row gap-y-2 md:gap-y-0 flex-col justify-between border">
      <div class="flex-1 md:pr-8"> <!-- Added right padding for spacing -->
        <div class="breadcrumbs border w-fit px-6 mb-5 mx-auto md:mx-0">
          <% author_breadcrumbs.each do |breadcrumb| %>
            <% if breadcrumb[:url].present? %>
              <%= link_to(breadcrumb[:title], breadcrumb[:url]) %>
              <i class="iconoir-nav-arrow-right"></i>
            <% else %>
              <p>
                <%= breadcrumb[:title] %>
              </p>
            <% end %>
          <% end %>
        </div>
        <h1 class="text-center md:text-left"><%= @author.formatted_name %></h1>
        <p class="opacity-80 mt-2 md:mt-5 text-lg md:text-xl text-center md:text-left">
          <%= @author.long_description %>
        </p>
      </div>
      <div class="shrink-0 flex items-center flex-col justify-center">
        <% if @author.avatar_picture.attached? %>
          <%= image_tag @author.avatar_picture, class: "h-52 w-52 md:h-64 md:w-64 object-cover rounded-xl", alt: @author.formatted_name %>
        <% else %>
          <div class="h-64 w-64 flex items-center justify-center bg-gray-100 rounded-xl">
            <p>No image provided</p>
          </div>
        <% end %>
        <div class="flex items-start mt-4 gap-x-3 w-full">
          <% @author.author_links.each do |link| %>
            <a class="w-10 h-10 rounded bg-black flex items-center justify-center" href="<%= link.url %>" target="_blank" rel="noopener noreferrer">
              <i class="<%= social_media_icon(link.title) %> text-white"></i>
            </a>
          <% end %>
        </div>
      </div>
    </div>
  </section>

  <section class="py-20 relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="mb-10">Author's articles</h2>
    <div class="mx-auto mt-16 space-y-16 w-full">
      <%= render partial: "public/help_docs_1/pages/post", collection: @posts %>
    </div>
    <%= pagy_navigation %>
  </section>
</div>
