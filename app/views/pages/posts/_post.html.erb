<div class="relative">
  <%= link_to edit_pages_post_path(@page, post) do %>
    <div class="py-3 pr-2 flex justify-between items-center border-t border-b hover:bg-gray-100 cursor-pointer">
      <div class="flex items-center gap-x-4">
        <div class="">
          <% if post.cover_image.attached? %>
            <%= image_tag post.cover_image, class: "h-20 rounded object-cover", loading: 'lazy' if post.cover_image.attached? %>
          <% else %>
            <div class="h-20 w-32 rounded border border-dashed flex items-center justify-center">
              <i class="iconoir-mask-square text-xl text-gray-300"></i>
            </div>
          <% end %>
        </div>
        <div class="flex flex-col gap-y-1">
          <h2 class="text-base font-medium"><%= post.title %></h2>
          <p class="text-gray-500 text-sm">By <%= post.authors.any? ? post.authors.first.formatted_name : '' %>
            - <%= time_ago_in_words(post.updated_at) %> ago</p>
          <div class="flex items-center gap-x-2 text-xs">
            <span class="capitalize text-gray-500"><%= post.status %></span>
            <span class="rounded-full px-2 py-px" style="background-color:  <%= post.category&.color || '' %> ">
              <%= post.category&.name %>
            </span>
          </div>
        </div>
      </div>
    </div>
  <% end %>
  <div class="dropdown dropdown-end absolute right-5 top-1/2 transform -translate-y-1/2 z-10">
    <div tabindex="0" role="button" class="p-1">
      <div class="btn btn-ghost btn-square">
        <i class="iconoir-more-vert text-xl"></i>
      </div>
    </div>
    <ul tabindex="0" class="dropdown-content menu dropdown-list z-40 min-w-52">
      <li>
        <%= link_to "Edit", edit_pages_post_path(@page, post) %>
      </li>
      <div class="divider my-0"></div>
      <li>
        <%= button_to pages_post_path(@page, post), method: :delete, data: { confirm: 'Are you sure?' }, form_class: '' do %>
          <span class="text-red-500">Move to archive</span>
        <% end %>
      </li>
    </ul>
  </div>
</div>
